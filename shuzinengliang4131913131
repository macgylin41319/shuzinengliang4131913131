<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>易经数字能量大师</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --gold: #d4af37;
            --bg-dark: #1a1a1a;
            --card-bg: #262626; /* 对应截图的深灰卡片背景 */
            --text-main: #fff;
            --text-sub: #888;
            
            /* 五行色块颜色 - 严格吸取截图颜色 */
            --color-fire: #e74c3c; /* 火-红 */
            --color-water: #3498db; /* 水-蓝 */
            --color-wood: #2ecc71;  /* 木-绿 */
            --color-metal: #ecf0f1; /* 金-白 */
            --color-earth: #8d6e63; /* 土-褐 */
        }

        * { box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #000; /* 整体背景纯黑 */
            color: var(--text-main);
            margin: 0;
            padding: 0;
            font-size: 14px;
        }

        /* 顶部标题 */
        header {
            padding: 15px;
            border-bottom: 1px solid #333;
            background: #111;
        }
        header h1 { color: var(--gold); margin: 0; font-size: 1.2rem; }

        .container { max-width: 600px; margin: 0 auto; padding: 15px; }

        /* 输入框区域 */
        .input-section {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 20px;
            border: 1px solid #333;
        }
        input {
            width: 100%; padding: 12px; font-size: 1.2rem;
            background: #000; border: 1px solid #444; color: var(--gold);
            border-radius: 8px; text-align: center; margin-bottom: 15px; outline: none;
        }
        .action-btn {
            background: var(--gold); color: #000; font-weight: bold; border: none;
            padding: 12px 30px; border-radius: 30px; font-size: 1rem; cursor: pointer;
            width: 100%;
        }

        /* ----------------------------------------------------
           核心复刻：单数八卦卡片 (Screenshot 2026-02-11 005959.png)
           ---------------------------------------------------- */
        .gua-section-title {
            color: var(--gold);
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .gua-section-desc {
            color: #999;
            font-size: 0.85rem;
            margin-bottom: 15px;
        }

        .gua-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 一行4个，手机上可能需要调整 */
            gap: 10px;
            margin-bottom: 25px;
        }
        /* 手机适配：一行3个 */
        @media (max-width: 400px) {
            .gua-grid { grid-template-columns: repeat(3, 1fr); }
        }

        .gua-card {
            background-color: #333; /* 卡片深灰背景 */
            border-radius: 8px;
            padding: 15px 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px solid #444;
        }

        /* 1. 数字 (大白字) */
        .gua-num {
            font-size: 2rem;
            font-weight: bold;
            color: #fff;
            line-height: 1;
            margin-bottom: 8px;
        }

        /* 2. 卦名 (金色字: 离为离火) */
        .gua-name {
            color: var(--gold);
            font-size: 0.8rem;
            margin-bottom: 8px;
            white-space: nowrap;
        }

        /* 3. 五行方块 (红/蓝/绿方块) */
        .gua-box {
            width: 28px;
            height: 28px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: #fff; /* 默认白字 */
        }
        /* 五行特定样式 */
        .box-fire { background-color: var(--color-fire); }
        .box-water { background-color: var(--color-water); }
        .box-wood { background-color: var(--color-wood); }
        .box-earth { background-color: var(--color-earth); }
        .box-metal { background-color: var(--color-metal); color: #000; } /* 金用白底黑字 */

        /* 4. 亲属关系 (灰色小字: 中女) */
        .gua-rel {
            color: #aaa;
            font-size: 0.75rem;
        }

        /* ----------------------------------------------------
           其他结果样式
           ---------------------------------------------------- */
        .result-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
        }
        .list-row {
            display: flex;
            justify-content: space-between;
            background: #111;
            padding: 10px;
            margin-bottom: 5px;
            border-radius: 6px;
            border-left: 3px solid #555;
            color: #fff;
        }
        .border-ji { border-left-color: #e74c3c; } /* 吉-红 */
        .border-xiong { border-left-color: #3498db; } /* 凶-蓝 */
        
        .score-big { font-size: 2.5rem; font-weight: bold; text-align: center; margin: 10px 0; }
        .hidden { display: none; }

    </style>
</head>
<body>

<header>
    <h1>易经数字能量</h1>
</header>

<div class="container">
    <div class="input-section">
        <input type="text" id="mainInput" placeholder="请输入手机号/车牌/生日" onkeypress="if(event.keyCode==13) analyze()">
        <button class="action-btn" onclick="analyze()">立即分析</button>
        <div style="font-size:0.8rem; color:#666; margin-top:10px;">支持英文车牌自动转换</div>
    </div>

    <div id="result-area" class="hidden">
        
        <div style="margin-bottom: 30px;">
            <div class="gua-section-title">单数·八卦映射分析</div>
            <div class="gua-section-desc">根据《易经》后天八卦原理，每一个数字都对应一个卦象、五行及六亲关系。</div>
            
            <div class="gua-grid" id="gua-grid-container">
                </div>
        </div>

        <div class="result-card">
            <h3 style="color:var(--gold); margin:0 0 10px 0;">磁场总评与得分</h3>
            <div class="score-big" id="score-val">0</div>
            <div style="text-align:center; color:#888;" id="score-text">--</div>
        </div>

        <div class="result-card">
            <h3 style="color:var(--gold); margin:0 0 10px 0;">数组吉凶组合</h3>
            <div id="list-container"></div>
        </div>
        
    </div>
</div>

<script>
    // --- 1. 单数八卦数据 (对应截图) ---
    const GUA_DATA = {
        '1': { text: '坎为坎水', elem: '水', cls: 'box-water', rel: '中男' },
        '2': { text: '坤为坤土', elem: '土', cls: 'box-earth', rel: '老母' },
        '3': { text: '震为震木', elem: '木', cls: 'box-wood', rel: '长男' },
        '4': { text: '巽为巽木', elem: '木', cls: 'box-wood', rel: '长女' },
        '5': { text: '中央戊土', elem: '土', cls: 'box-earth', rel: '中央' }, // 5归土
        '6': { text: '乾为乾金', elem: '金', cls: 'box-metal', rel: '老父' },
        '7': { text: '兑为兑金', elem: '金', cls: 'box-metal', rel: '少女' },
        '8': { text: '艮为艮土', elem: '土', cls: 'box-earth', rel: '少男' },
        '9': { text: '离为离火', elem: '火', cls: 'box-fire', rel: '中女' },
        '0': { text: '归零/空', elem: '土', cls: 'box-earth', rel: '隐性' }
    };

    // --- 2. 双星组合数据 ---
    const STARS = {
        '13':{n:'天医',t:'吉',l:1}, '31':{n:'天医',t:'吉',l:1}, '68':{n:'天医',t:'吉',l:2}, '86':{n:'天医',t:'吉',l:2},
        '49':{n:'天医',t:'吉',l:3}, '94':{n:'天医',t:'吉',l:3}, '27':{n:'天医',t:'吉',l:4}, '72':{n:'天医',t:'吉',l:4},
        '14':{n:'生气',t:'吉',l:1}, '41':{n:'生气',t:'吉',l:1}, '67':{n:'生气',t:'吉',l:2}, '76':{n:'生气',t:'吉',l:2},
        '39':{n:'生气',t:'吉',l:3}, '93':{n:'生气',t:'吉',l:3}, '28':{n:'生气',t:'吉',l:4}, '82':{n:'生气',t:'吉',l:4},
        '19':{n:'延年',t:'吉',l:1}, '91':{n:'延年',t:'吉',l:1}, '78':{n:'延年',t:'吉',l:2}, '87':{n:'延年',t:'吉',l:2},
        '34':{n:'延年',t:'吉',l:3}, '43':{n:'延年',t:'吉',l:3}, '26':{n:'延年',t:'吉',l:4}, '62':{n:'延年',t:'吉',l:4},
        '11':{n:'伏位',t:'平',l:1}, '22':{n:'伏位',t:'平',l:1}, '88':{n:'伏位',t:'平',l:1}, '99':{n:'伏位',t:'平',l:1},
        '12':{n:'绝命',t:'凶',l:1}, '21':{n:'绝命',t:'凶',l:1}, '69':{n:'绝命',t:'凶',l:2}, '96':{n:'绝命',t:'凶',l:2},
        '48':{n:'绝命',t:'凶',l:3}, '84':{n:'绝命',t:'凶',l:3}, '37':{n:'绝命',t:'凶',l:4}, '73':{n:'绝命',t:'凶',l:4},
        '16':{n:'六煞',t:'凶',l:1}, '61':{n:'六煞',t:'凶',l:1}, '47':{n:'六煞',t:'凶',l:2}, '74':{n:'六煞',t:'凶',l:2},
        '38':{n:'六煞',t:'凶',l:3}, '83':{n:'六煞',t:'凶',l:3}, '29':{n:'六煞',t:'凶',l:4}, '92':{n:'六煞',t:'凶',l:4},
        '18':{n:'五鬼',t:'凶',l:1}, '81':{n:'五鬼',t:'凶',l:1}, '79':{n:'五鬼',t:'凶',l:2}, '97':{n:'五鬼',t:'凶',l:2},
        '36':{n:'五鬼',t:'凶',l:3}, '63':{n:'五鬼',t:'凶',l:3}, '24':{n:'五鬼',t:'凶',l:4}, '42':{n:'五鬼',t:'凶',l:4},
        '17':{n:'祸害',t:'凶',l:1}, '71':{n:'祸害',t:'凶',l:1}, '89':{n:'祸害',t:'凶',l:2}, '98':{n:'祸害',t:'凶',l:2},
        '46':{n:'祸害',t:'凶',l:3}, '64':{n:'祸害',t:'凶',l:3}, '23':{n:'祸害',t:'凶',l:4}, '32':{n:'祸害',t:'凶',l:4}
    };

    const LETTER_MAP = {'A':'01','B':'02','C':'03','D':'04','E':'05','F':'06','G':'07','H':'08','I':'09','J':'10','K':'11','L':'12','M':'13','N':'14','O':'15','P':'16','Q':'17','R':'18','S':'19','T':'20','U':'21','V':'22','W':'23','X':'24','Y':'25','Z':'26'};

    function analyze() {
        let raw = document.getElementById('mainInput').value.toUpperCase().trim();
        if(!raw) return;

        // 1. 处理输入 (含车牌字母)
        let processed = '';
        for(let char of raw) {
            if(/[A-Z]/.test(char)) processed += LETTER_MAP[char];
            else if(/[0-9]/.test(char)) processed += char;
        }

        document.getElementById('result-area').classList.remove('hidden');
        
        // 2. 渲染：单数八卦卡片 (重点！)
        const guaContainer = document.getElementById('gua-grid-container');
        guaContainer.innerHTML = ''; // 清空

        // 遍历每一个数字，生成卡片
        for(let char of processed) {
            const data = GUA_DATA[char] || GUA_DATA['5'];
            
            const card = document.createElement('div');
            card.className = 'gua-card';
            card.innerHTML = `
                <div class="gua-num">${char}</div>
                <div class="gua-name">${data.text}</div>
                <div class="gua-box ${data.cls}">${data.elem}</div>
                <div class="gua-rel">${data.rel}</div>
            `;
            guaContainer.appendChild(card);
        }

        // 3. 渲染：吉凶列表 & 评分
        renderList(processed);
    }

    function renderList(str) {
        let pairs = [];
        // 生成数组对 (简单逻辑: 0和5按常规处理，如需复杂逻辑可加回)
        for(let i=0; i<str.length-1; i++) {
            let p = str[i] + str[i+1];
            // 简单的0/5过滤，如果表中没有就不显示，或者按伏位处理
            if(STARS[p]) pairs.push({pair:p, info:STARS[p]});
        }

        const listDiv = document.getElementById('list-container');
        listDiv.innerHTML = '';
        let score = 0;

        pairs.forEach(item => {
            const div = document.createElement('div');
            const isJi = item.info.t === '吉';
            div.className = `list-row ${isJi ? 'border-ji' : 'border-xiong'}`;
            div.innerHTML = `
                <span style="font-family:monospace; font-size:1.1rem;">${item.pair}</span>
                <span style="font-weight:bold; color:${isJi ? '#e74c3c' : '#3498db'}">${item.info.n}</span>
                <span style="color:#666; font-size:0.8rem;">${item.info.l}级能量</span>
            `;
            listDiv.appendChild(div);

            if(isJi) score += 10; else if(item.info.t === '凶') score -= 10;
        });

        const scoreEl = document.getElementById('score-val');
        scoreEl.innerText = score;
        scoreEl.style.color = score >= 0 ? '#e74c3c' : '#3498db';
        document.getElementById('score-text').innerText = score > 0 ? '大吉大利 · 运势顺遂' : '运势受阻 · 建议化解';
    }
</script>

</body>
</html>